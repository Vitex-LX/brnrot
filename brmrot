local WindUI = loadstring(game:HttpGet(
    "https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"
))()

local Window = WindUI:CreateWindow({
    Title   = "Vitex Hub",
    Icon    = "aperture",
    Author  = "by Vitex",
    Theme   = "Violet",
    Acrylic = true,
})

Window:Tag({
    Title  = "Beta-kooon",
    Icon   = "history",
    Color  = Color3.fromHex("#5f0188"),
    Radius = 0,
})

local Practical = Window:Tab({
    Title = "کاربردی",
    Icon  = "flame",
})
Practical:Select()

-- ====== Walk On Air ======
local RunService            = game:GetService("RunService")
local ContextActionService  = game:GetService("ContextActionService")
local Players               = game:GetService("Players")
local TweenService          = game:GetService("TweenService")

local airEnabled   = false
local isRising     = false
local risePart     = nil
local platformConn = nil
local platformPart = nil

local RISE_SPEED = 30
local PLATFORM_Y = 3

local function handleJump(_, inputState)
    isRising = (inputState == Enum.UserInputState.Begin)
end

local function startAirWalk()
    local player    = Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local hrp       = character:WaitForChild("HumanoidRootPart")

    platformPart              = Instance.new("Part")
    platformPart.Size         = Vector3.new(4, 0.2, 4)
    platformPart.Anchored     = true
    platformPart.CanCollide   = true
    platformPart.Transparency = 1
    platformPart.Name         = "AirPlatform"
    platformPart.Parent       = workspace

    risePart           = Instance.new("BodyVelocity")
    risePart.Velocity  = Vector3.zero
    risePart.MaxForce  = Vector3.new(0, 1e5, 0)
    risePart.Parent    = hrp

    platformConn = RunService.Heartbeat:Connect(function()
        if not airEnabled then return end
        platformPart.CFrame = CFrame.new(
            hrp.Position.X,
            hrp.Position.Y - PLATFORM_Y,
            hrp.Position.Z
        )
        if isRising then
            risePart.Velocity = Vector3.new(0, RISE_SPEED, 0)
            risePart.MaxForce = Vector3.new(0, 1e5, 0)
        else
            risePart.Velocity = Vector3.zero
            risePart.MaxForce = Vector3.new(0, 1e4, 0)
        end
    end)

    ContextActionService:BindAction("AirJump", handleJump, false,
        Enum.KeyCode.Space, Enum.PlayerActions.CharacterJump)
end

local function stopAirWalk()
    isRising = false
    ContextActionService:UnbindAction("AirJump")
    if platformConn then platformConn:Disconnect() platformConn = nil end
    if risePart     then risePart:Destroy()        risePart     = nil end
    if platformPart then platformPart:Destroy()    platformPart = nil end
end

local AirToggle = Practical:Toggle({
    Title    = "راه رفتن روی هوا",
    Callback = function(state)
        airEnabled = state
        if state then startAirWalk() else stopAirWalk() end
    end
})

-- ====== Fling Players ======
local Combat = Window:Tab({
    Title = "فایت",
    Icon  = "sword",
})

local localPlayer    = Players.LocalPlayer
local selectedTarget = nil

local function getPlayerNames()
    local names = {}
    for _, p in ipairs(Players:GetPlayers()) do
        if p ~= localPlayer then
            table.insert(names, p.Name)
        end
    end
    if #names == 0 then
        table.insert(names, "پلیری نیست")
    end
    return names
end

local function flingPlayer(targetPlayer)
    local myChar     = localPlayer.Character
    local targetChar = targetPlayer.Character
    if not myChar or not targetChar then return end

    local myHRP     = myChar:FindFirstChild("HumanoidRootPart")
    local targetHRP = targetChar:FindFirstChild("HumanoidRootPart")
    if not myHRP or not targetHRP then return end

    local targetPos = targetHRP.CFrame * CFrame.new(0, 0, 2)
    local tweenInfo = TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    local tween     = TweenService:Create(myHRP, tweenInfo, { CFrame = targetPos })

    myHRP.Anchored = true
    tween:Play()

    tween.Completed:Connect(function()
        myHRP.Anchored = false

        local bv    = Instance.new("BodyVelocity")
        bv.MaxForce = Vector3.new(1e6, 1e6, 1e6)
        bv.Velocity = Vector3.new(
            math.random(-120, 120),
            math.random(180, 260),
            math.random(-120, 120)
        )
        bv.Parent = targetHRP

        local bav             = Instance.new("BodyAngularVelocity")
        bav.MaxTorque         = Vector3.new(1e6, 1e6, 1e6)
        bav.AngularVelocity   = Vector3.new(
            math.random(40, 80),
            math.random(40, 80),
            math.random(40, 80)
        )
        bav.Parent = targetHRP

        task.delay(0.15, function()
            if bv  and bv.Parent  then bv:Destroy()  end
            if bav and bav.Parent then bav:Destroy()  end
        end)
    end)
end

local PlayerDropdown = Combat:Dropdown({
    Title    = "انتخاب پلیر",
    Values   = getPlayerNames(),
    Value    = "پلیری نیست",
    Callback = function(value)
        selectedTarget = Players:FindFirstChild(value)
    end
})

local RefreshButton = Combat:Button({
    Title    = "رفرش لیست",
    Callback = function()
        PlayerDropdown:Refresh(getPlayerNames(), true)
        selectedTarget = nil
    end
})

local FlingButton = Combat:Button({
    Title    = "فلینگ",
    Callback = function()
        if selectedTarget and selectedTarget.Parent then
            flingPlayer(selectedTarget)
        end
    end
})

Players.PlayerAdded:Connect(function()
    PlayerDropdown:Refresh(getPlayerNames(), true)
end)

Players.PlayerRemoving:Connect(function()
    PlayerDropdown:Refresh(getPlayerNames(), true)
    selectedTarget = nil
end)
