local WindUI = loadstring(game:HttpGet(
    "https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"
))()

local Window = WindUI:CreateWindow({
    Title   = "Vitex Hub",
    Icon    = "aperture",
    Author  = "by Vitex",
    Theme   = "Violet",
    Acrylic = true,
})

Window:Tag({
    Title  = "Beta-kooon",
    Icon   = "history",
    Color  = Color3.fromHex("#5f0188"),
    Radius = 0,
})

local Practical = Window:Tab({
    Title = "کاربردی",
    Icon  = "flame",
})
Practical:Select()

-- ====== لاجیک پرواز ======
local flyEnabled   = false
local flySpeed     = 50
local flyConnection

local function startFly()
    local player           = game.Players.LocalPlayer
    local character        = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
    local humanoid         = character:WaitForChild("Humanoid")

    humanoid.PlatformStand = true

    local bodyVelocity         = Instance.new("BodyVelocity")
    bodyVelocity.Velocity      = Vector3.zero
    bodyVelocity.MaxForce      = Vector3.new(1e5, 1e5, 1e5)
    bodyVelocity.Parent        = humanoidRootPart

    local bodyGyro             = Instance.new("BodyGyro")
    bodyGyro.MaxTorque         = Vector3.new(1e5, 1e5, 1e5)
    bodyGyro.P                 = 1e4
    bodyGyro.Parent            = humanoidRootPart

    local uis = game:GetService("UserInputService")

    flyConnection = game:GetService("RunService").Heartbeat:Connect(function()
        if not flyEnabled then return end

        local camera  = workspace.CurrentCamera
        local moveDir = Vector3.zero

        if uis:IsKeyDown(Enum.KeyCode.W) then moveDir += camera.CFrame.LookVector  end
        if uis:IsKeyDown(Enum.KeyCode.S) then moveDir -= camera.CFrame.LookVector  end
        if uis:IsKeyDown(Enum.KeyCode.A) then moveDir -= camera.CFrame.RightVector end
        if uis:IsKeyDown(Enum.KeyCode.D) then moveDir += camera.CFrame.RightVector end
        if uis:IsKeyDown(Enum.KeyCode.Space)       then moveDir += Vector3.new(0, 1, 0) end
        if uis:IsKeyDown(Enum.KeyCode.LeftControl) then moveDir -= Vector3.new(0, 1, 0) end

        bodyVelocity.Velocity = if moveDir.Magnitude > 0
            then moveDir.Unit * flySpeed
            else Vector3.zero

        bodyGyro.CFrame = workspace.CurrentCamera.CFrame
    end)
end

local function stopFly()
    local character = game.Players.LocalPlayer.Character
    if not character then return end

    local hrp      = character:FindFirstChild("HumanoidRootPart")
    local humanoid = character:FindFirstChild("Humanoid")

    if humanoid then humanoid.PlatformStand = false end
    if hrp then
        local bv = hrp:FindFirstChildOfClass("BodyVelocity")
        local bg = hrp:FindFirstChildOfClass("BodyGyro")
        if bv then bv:Destroy() end
        if bg then bg:Destroy() end
    end
    if flyConnection then
        flyConnection:Disconnect()
        flyConnection = nil
    end
end

-- ====== Toggle پرواز (syntax درست WindUI) ======
local FlyToggle = Practical:Toggle({
    Title    = "پرواز",
    Desc     = "با WASD، Space و Ctrl پرواز کن",
    Icon     = "plane",
    Value    = false,
    Callback = function(state)
        flyEnabled = state
        if state then
            startFly()
        else
            stopFly()
        end
    end,
})
