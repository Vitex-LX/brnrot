local WindUI = loadstring(game:HttpGet(
    "https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"
))()

local Window = WindUI:CreateWindow({
    Title   = "Vitex Hub",
    Icon    = "aperture",
    Author  = "by Vitex",
    Theme   = "Violet",
    Acrylic = true,
})

Window:Tag({
    Title  = "Beta-kooon",
    Icon   = "history",
    Color  = Color3.fromHex("#5f0188"),
    Radius = 0,
})

local Practical = Window:Tab({
    Title = "کاربردی",
    Icon  = "flame",
})
Practical:Select()

-- ====== Walk On Air ======
local RunService           = game:GetService("RunService")
local ContextActionService = game:GetService("ContextActionService")
local Players              = game:GetService("Players")

local airEnabled   = false
local isRising     = false
local risePart     = nil
local riseConn     = nil
local platformPart = nil
local platformConn = nil

local RISE_SPEED   = 30  -- سرعت بالا رفتن
local PLATFORM_Y   = 3   -- فاصله پلتفرم از زیر کاراکتر

local function handleJump(_, inputState)
    isRising = (inputState == Enum.UserInputState.Begin)
end

local function startAirWalk()
    local player    = Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local hrp       = character:WaitForChild("HumanoidRootPart")
    local humanoid  = character:WaitForChild("Humanoid")

    -- پلتفرم نامرئی زیر پای کاراکتر
    platformPart          = Instance.new("Part")
    platformPart.Size     = Vector3.new(4, 0.2, 4)
    platformPart.Anchored = true
    platformPart.CanCollide = true
    platformPart.Transparency = 1
    platformPart.Name     = "AirPlatform"
    platformPart.Parent   = workspace

    -- BodyVelocity برای بالا رفتن با جامپ
    risePart              = Instance.new("BodyVelocity")
    risePart.Velocity     = Vector3.zero
    risePart.MaxForce     = Vector3.new(0, 1e5, 0)
    risePart.Parent       = hrp

    -- هر فریم: پلتفرم رو زیر کاراکتر نگه دار و بالا رفتن رو handle کن
    platformConn = RunService.Heartbeat:Connect(function()
        if not airEnabled then return end

        -- پلتفرم دقیقاً زیر کاراکتر
        platformPart.CFrame = CFrame.new(
            hrp.Position.X,
            hrp.Position.Y - PLATFORM_Y,
            hrp.Position.Z
        )

        -- اگه جامپ گرفته شده بالا بره
        if isRising then
            risePart.Velocity  = Vector3.new(0, RISE_SPEED, 0)
            risePart.MaxForce  = Vector3.new(0, 1e5, 0)
        else
            -- روی هوا ثابت بمون (بدون گرانش)
            risePart.Velocity  = Vector3.zero
            risePart.MaxForce  = Vector3.new(0, 1e4, 0)
        end
    end)

    -- bind دکمه جامپ (هم موبایل هم کیبورد)
    ContextActionService:BindAction(
        "AirJump",
        handleJump,
        false, -- دکمه جدید نمیسازه، از دکمه جامپ خود بازی استفاده میکنه
        Enum.KeyCode.Space,
        Enum.PlayerActions.CharacterJump
    )
end

local function stopAirWalk()
    isRising = false

    ContextActionService:UnbindAction("AirJump")

    if platformConn then
        platformConn:Disconnect()
        platformConn = nil
    end

    if risePart then
        risePart:Destroy()
        risePart = nil
    end

    if platformPart then
        platformPart:Destroy()
        platformPart = nil
    end
end

local AirToggle = Practical:Toggle({
    Title    = "راه رفتن روی هوا",
    Desc     = "جامپ بزن تا بری بالا، روی هوا راه برو",
    Icon     = "footprints",
    Value    = false,
    Callback = function(state)
        airEnabled = state
        if state then
            startAirWalk()
        else
            stopAirWalk()
        end
    end,
})
